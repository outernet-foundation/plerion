{
  "pythonVersion": "3.13",
  "typeCheckingMode": "strict",
  "exclude": ["**/.venv/**", "**/openapi_generated/**", "**/pycolmap-stubs/**"],
  "include": [
    "common",
    "scripts",
    "infrastructure",
    "services/visual-localization-system/api",
    "services/visual-localization-system/models",
    "services/visual-localization-system/reconstruction-orchestrator",
    "services/visual-localization-system/run-reconstruction",
    // We do not want pyright to analyze the actual Hierarchical-Localization code, because it is a
    // third-party library we do not maintain and is full of type errors. However, we do want
    // pyright to analyze our own code that imports from it, so we do include an execution
    // environment for it, below.
    // "services/visual-localization-system/third-party/Hierarchical-Localization",
    "services/database-manager",
    "tasks/extract-match-features",
    "capture-app/android_mobile",
    "capture-app/zed"
  ],
  "executionEnvironments": [
    {
      "root": "common",
      "extraPaths": [
        "common/.venv/Lib/site-packages",
        "common/.venv/lib/python3.13/site-packages"
      ]
    },
    {
      "root": "scripts",
      "extraPaths": [
        "common/src",
        "common/.venv/Lib/site-packages",
        "common/.venv/lib/python3.13/site-packages",
        "scripts/.venv/Lib/site-packages",
        "scripts/.venv/lib/python3.13/site-packages"
      ]
    },
    {
      "root": "infrastructure",
      "extraPaths": [
        "common/src",
        "common/.venv/Lib/site-packages",
        "common/.venv/lib/python3.13/site-packages",
        "infrastructure/.venv/Lib/site-packages",
        "infrastructure/.venv/lib/python3.13/site-packages"
      ]
    },
    {
      "root": "services/visual-localization-system/api",
      "extraPaths": [
        "common/src",
        "common/.venv/lib/site-packages",
        "common/.venv/lib/python3.13/site-packages",
        "services/visual-localization-system/models/src",
        "services/visual-localization-system/models/.venv/Lib/site-packages",
        "services/visual-localization-system/models/.venv/lib/python3.13/site-packages",
        "services/visual-localization-system/api/.venv/Lib/site-packages",
        "services/visual-localization-system/api/.venv/lib/python3.13/site-packages",
        "services/visual-localization-system/localize/src",
        "services/visual-localization-system/localize/.venv/Lib/site-packages"
      ]
    },
    {
      "root": "services/visual-localization-system/models",
      "extraPaths": [
        "services/visual-localization-system/models/.venv/Lib/site-packages",
        "services/visual-localization-system/models/.venv/lib/python3.13/site-packages"
      ]
    },
    {
      "root": "services/visual-localization-system/reconstruction-orchestrator",
      "extraPaths": [
        "common/src",
        "common/.venv/Lib/site-packages",
        "common/.venv/lib/python3.13/site-packages",
        "services/visual-localization-system/models/src",
        "services/visual-localization-system/models/.venv/Lib/site-packages",
        "services/visual-localization-system/models/.venv/lib/python3.13/site-packages",
        "services/visual-localization-system/reconstruction-orchestrator/.venv/Lib/site-packages",
        "services/visual-localization-system/reconstruction-orchestrator/.venv/lib/python3.13/site-packages"
      ]
    },
    {
      "root": "services/visual-localization-system/run-reconstruction",
      "extraPaths": [
        "common/src",
        "common/.venv/Lib/site-packages",
        "common/.venv/lib/python3.13/site-packages",
        "services/visual-localization-system/third-party/Hierarchical-Localization",
        "services/visual-localization-system/third-party/Hierarchical-Localization/third_party",
        "services/visual-localization-system/run-reconstruction/pycolmap-stubs",
        "services/visual-localization-system/run-reconstruction/.venv/Lib/site-packages",
        "services/visual-localization-system/run-reconstruction/.venv/lib/python3.13/site-packages"
      ]
    },
    // Pyright needs a .venv associated with the Hierarchical-Localization folder in order to resolve
    // imports in that folder when modules in it are imported elsewhere, so we hack it by using a
    // a .venv in a project that depends on it.
    {
      "root": "services/visual-localization-system/third-party/Hierarchical-Localization",
      "extraPaths": [
        "services/visual-localization-system/run-reconstruction/.venv/Lib/site-packages",
        "services/visual-localization-system/run-reconstruction/.venv/lib/python3.13/site-packages"
      ]
    },
    {
      "root": "services/visual-localization-system/localize",
      "extraPaths": [
        "common/src",
        "common/.venv/Lib/site-packages",
        "common/.venv/lib/python3.13/site-packages",
        "services/visual-localization-system/third-party/Hierarchical-Localization",
        "services/visual-localization-system/third-party/Hierarchical-Localization/third_party",
        "services/visual-localization-system/run-reconstruction/pycolmap-stubs",
        "services/visual-localization-system/localize/.venv/Lib/site-packages",
        "services/visual-localization-system/localize/.venv/lib/python3.13/site-packages"
      ]
    },
    {
      "root": "services/database-manager",
      "extraPaths": [
        "common/src",
        "common/.venv/Lib/site-packages",
        "common/.venv/lib/python3.13/site-packages",
        "services/database-manager/.venv/Lib/site-packages",
        "services/database-manager/.venv/lib/python3.13/site-packages"
      ]
    },
    {
      "root": "tasks/extract-match-features",
      "extraPaths": [
        "tasks/extract-match-features/.venv/Lib/site-packages",
        "tasks/extract-match-features/.venv/lib/python3.13/site-packages"
      ]
    },
    {
      "root": "capture-app/android_mobile",
      "extraPaths": [
        "capture-app/android_mobile/.venv/Lib/site-packages",
        "capture-app/android_mobile/.venv/lib/python3.13/site-packages"
      ]
    },
    {
      "root": "capture-app/zed",
      "extraPaths": [
        "common/src",
        "common/.venv/Lib/site-packages",
        "common/.venv/lib/python3.13/site-packages",
        "capture-app/zed/typings",
        "capture-app/zed/.venv/Lib/site-packages",
        "capture-app/zed/.venv/lib/python3.13/site-packages"
      ]
    }
  ]
}
